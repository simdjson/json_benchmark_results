run_benchmark: v0.8.0~33 /home/jkeiser/simdjson_benchmark_results/v0.7.0/5/skylake-gcc10.2.json -DCMAKE_BUILD_TYPE=Release
git reset --hard v0.8.0~33
HEAD is now at c578f63f Fixing issue 1337 (#1338)
cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_RULE_MESSAGES:BOOL=OFF -DCMAKE_VERBOSE_MAKEFILE:BOOL=ON ..
-- The simdjson repository appears to be standalone.
-- By default, we attempt to build everything.
-- Building a dynamic library.
-- Library output directory: /home/jkeiser/simdjson_benchmark_results/simdjson/build
-- Importing google_benchmarks (google/benchmark@8982e1e)
-- Failed to find LLVM FileCheck
-- git Version: v0.2.1-c578f63f
-- Version: 0.2.1
-- Performing Test HAVE_STD_REGEX -- success
-- Performing Test HAVE_GNU_POSIX_REGEX -- failed to compile
-- Performing Test HAVE_POSIX_REGEX -- success
-- Performing Test HAVE_STEADY_CLOCK -- success
-- Importing cjson (DaveGamble/cJSON@c69134d)
-- Importing fastjson (mikeando/fastjson@485f994)
-- Importing gason (vivkin/gason@7aee524)
-- Importing jsmn (zserge/jsmn@18e9fe4)
-- Importing json (nlohmann/json@v3.9.1)
-- Importing json11 (dropbox/json11@ec4e452)
-- Importing rapidjson (Tencent/rapidjson@b32cd94)
-- Importing sajson (chadaustin/sajson@2dcfd35)
-- Importing ujson4c (esnme/ujson4c@e14f3fd)
-- Importing yyjson (ibireme/yyjson@aa33ec5)
-- Importing cxxopts (jarro2783/cxxopts@794c975)
-- cxxopts version 2.2.0
-- We have cxxopts as a dependency and we are buiding the tools (e.g., json2json).
-- Git is available and it is recent. We are enabling checkperf targets.
-- Configuring done
-- Generating done
-- Build files have been written to: /home/jkeiser/simdjson_benchmark_results/simdjson/build
make bench_ondemand
/usr/bin/cmake -S/home/jkeiser/simdjson_benchmark_results/simdjson -B/home/jkeiser/simdjson_benchmark_results/simdjson/build --check-build-system CMakeFiles/Makefile.cmake 0
make -f CMakeFiles/Makefile2 bench_ondemand
/usr/bin/cmake -S/home/jkeiser/simdjson_benchmark_results/simdjson -B/home/jkeiser/simdjson_benchmark_results/simdjson/build --check-build-system CMakeFiles/Makefile.cmake 0
/usr/bin/cmake -E cmake_progress_start /home/jkeiser/simdjson_benchmark_results/simdjson/build/CMakeFiles 10
make -f CMakeFiles/Makefile2 benchmark/CMakeFiles/bench_ondemand.dir/all
make -f _deps/google_benchmarks/src/CMakeFiles/benchmark.dir/build.make _deps/google_benchmarks/src/CMakeFiles/benchmark.dir/depend
cd /home/jkeiser/simdjson_benchmark_results/simdjson/build && /usr/bin/cmake -E cmake_depends "Unix Makefiles" /home/jkeiser/simdjson_benchmark_results/simdjson /home/jkeiser/simdjson_benchmark_results/simdjson/dependencies/.cache/google_benchmarks/src /home/jkeiser/simdjson_benchmark_results/simdjson/build /home/jkeiser/simdjson_benchmark_results/simdjson/build/_deps/google_benchmarks/src /home/jkeiser/simdjson_benchmark_results/simdjson/build/_deps/google_benchmarks/src/CMakeFiles/benchmark.dir/DependInfo.cmake --color=
make -f _deps/google_benchmarks/src/CMakeFiles/benchmark.dir/build.make _deps/google_benchmarks/src/CMakeFiles/benchmark.dir/build
make[3]: Nothing to be done for '_deps/google_benchmarks/src/CMakeFiles/benchmark.dir/build'.
[ 80%] Built target benchmark
make -f jsonexamples/generated/CMakeFiles/generated-data.dir/build.make jsonexamples/generated/CMakeFiles/generated-data.dir/depend
cd /home/jkeiser/simdjson_benchmark_results/simdjson/build && /usr/bin/cmake -E cmake_depends "Unix Makefiles" /home/jkeiser/simdjson_benchmark_results/simdjson /home/jkeiser/simdjson_benchmark_results/simdjson/jsonexamples/generated /home/jkeiser/simdjson_benchmark_results/simdjson/build /home/jkeiser/simdjson_benchmark_results/simdjson/build/jsonexamples/generated /home/jkeiser/simdjson_benchmark_results/simdjson/build/jsonexamples/generated/CMakeFiles/generated-data.dir/DependInfo.cmake --color=
make -f jsonexamples/generated/CMakeFiles/generated-data.dir/build.make jsonexamples/generated/CMakeFiles/generated-data.dir/build
make[3]: Nothing to be done for 'jsonexamples/generated/CMakeFiles/generated-data.dir/build'.
[ 80%] Built target generated-data
make -f src/CMakeFiles/simdjson.dir/build.make src/CMakeFiles/simdjson.dir/depend
cd /home/jkeiser/simdjson_benchmark_results/simdjson/build && /usr/bin/cmake -E cmake_depends "Unix Makefiles" /home/jkeiser/simdjson_benchmark_results/simdjson /home/jkeiser/simdjson_benchmark_results/simdjson/src /home/jkeiser/simdjson_benchmark_results/simdjson/build /home/jkeiser/simdjson_benchmark_results/simdjson/build/src /home/jkeiser/simdjson_benchmark_results/simdjson/build/src/CMakeFiles/simdjson.dir/DependInfo.cmake --color=
make -f src/CMakeFiles/simdjson.dir/build.make src/CMakeFiles/simdjson.dir/build
make[3]: Nothing to be done for 'src/CMakeFiles/simdjson.dir/build'.
[ 90%] Built target simdjson
make -f benchmark/CMakeFiles/bench_ondemand.dir/build.make benchmark/CMakeFiles/bench_ondemand.dir/depend
cd /home/jkeiser/simdjson_benchmark_results/simdjson/build && /usr/bin/cmake -E cmake_depends "Unix Makefiles" /home/jkeiser/simdjson_benchmark_results/simdjson /home/jkeiser/simdjson_benchmark_results/simdjson/benchmark /home/jkeiser/simdjson_benchmark_results/simdjson/build /home/jkeiser/simdjson_benchmark_results/simdjson/build/benchmark /home/jkeiser/simdjson_benchmark_results/simdjson/build/benchmark/CMakeFiles/bench_ondemand.dir/DependInfo.cmake --color=
make -f benchmark/CMakeFiles/bench_ondemand.dir/build.make benchmark/CMakeFiles/bench_ondemand.dir/build
make[3]: Nothing to be done for 'benchmark/CMakeFiles/bench_ondemand.dir/build'.
[100%] Built target bench_ondemand
/usr/bin/cmake -E cmake_progress_start /home/jkeiser/simdjson_benchmark_results/simdjson/build/CMakeFiles 0
benchmark/bench_ondemand --benchmark_counters_tabular=true --benchmark_out=/home/jkeiser/simdjson_benchmark_results/v0.7.0/5/skylake-gcc10.2.json --benchmark_out_format=json
2021-01-25 01:23:03
Running benchmark/bench_ondemand
Run on (4 X 4000 MHz CPU s)
CPU Caches:
  L1 Data 32 KiB (x4)
  L1 Instruction 32 KiB (x4)
  L2 Unified 256 KiB (x4)
  L3 Unified 8192 KiB (x1)
Load Average: 1.02, 0.68, 0.45
On Demand implementation: fallback
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Benchmark                         Time             CPU   Iterations best_branch_miss best_bytes_per_sec best_cache_miss best_cache_ref best_cycles best_cycles_per_byte best_docs_per_sec best_frequency best_instructions best_instructions_per_byte best_instructions_per_cycle best_items_per_sec branch_miss      bytes bytes_per_second cache_miss  cache_ref     cycles cycles_per_byte docs_per_sec  frequency instructions instructions_per_byte instructions_per_cycle      items items_per_second
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
PartialTweets<OnDemand>     1136039 ns      1136046 ns          616          32.763k           564.055M               0        59.931k    4.13311M              6.54475           893.177        3.6916G          10.6701M                     16.896                     2.58161           89.3177k     33.405k   631.515k       530.136M/s  0.0665584   59.9521k   4.16115M         6.58915    880.246/s 3.66283G/s     10.6701M                16.896                2.56421        100       88.0246k/s [best: throughput=  0.56 GB/s doc_throughput=   893 docs/s instructions=    10670057 cycles=     4133107 branch_miss=   32763 cache_miss=       0 cache_ref=     59931 items=       100 avg_time=   1127870 ns]
PartialTweets<Dom>           271666 ns       271664 ns         2573           3.866k           2.41088G               0        93.093k    967.204k              1.53156          3.81761k       3.69241G           2.9625M                    4.69109                     3.06295           381.761k    4.01851k   631.515k       2.16497G/s    2.79518   93.1692k   972.353k         1.53971   3.68102k/s 3.57925G/s      2.9625M               4.69109                3.04673        100       368.102k/s [best: throughput=  2.41 GB/s doc_throughput=  3817 docs/s instructions=     2962496 cycles=      967204 branch_miss=    3866 cache_miss=       0 cache_ref=     93093 items=       100 avg_time=    263516 ns]
Creating a source file spanning 44921 KB 
LargeRandom<Dom>           87675540 ns     87659072 ns            8          878.48k           525.699M        10.8381M        15.391M    322.793M              7.01743           11.4285       3.68905G          974.113M                    21.1769                     3.01776           11.4285M    877.106k   45.9988M       500.437M/s   10.8769M   15.3904M   323.255M         7.02747    11.4078/s 3.68764G/s     974.113M               21.1769                3.01345      1000k       11.4078M/s [best: throughput=  0.53 GB/s doc_throughput=    11 docs/s instructions=   974112687 cycles=   322793064 branch_miss=  878480 cache_miss=10838078 cache_ref=  15391004 items=   1000000 avg_time=  87660972 ns]
LargeRandomSum<Dom>        87591884 ns     87585142 ns            8          874.42k            526.45M        10.2053M       14.5398M    322.282M              7.00633           11.4449       3.68848G          979.113M                    21.2856                     3.03806           11.4449M    877.951k   45.9988M        500.86M/s   10.2542M   14.5427M   322.946M         7.02075    11.4175/s 3.68722G/s     979.113M               21.2856                3.03182      1000k       11.4175M/s [best: throughput=  0.53 GB/s doc_throughput=    11 docs/s instructions=   979112700 cycles=   322282482 branch_miss=  874420 cache_miss=10205263 cache_ref=  14539829 items=   1000000 avg_time=  87577993 ns]
LargeRandom<OnDemand>     129974995 ns    129975668 ns            5         2.40652M           354.189M        5.65151M       8.07193M    478.994M              10.4132           7.69996       3.68824G          1.25797G                     27.348                     2.62628           7.69996M    2.40345M   45.9988M       337.508M/s    5.7003M   8.07285M   479.369M         10.4213    7.69375/s 3.68815G/s     1.25797G                27.348                2.62423      1000k       7.69375M/s [best: throughput=  0.35 GB/s doc_throughput=     7 docs/s instructions=  1257973693 cycles=   478994486 branch_miss= 2406524 cache_miss= 5651510 cache_ref=   8071927 items=   1000000 avg_time= 129960750 ns]
LargeRandomSum<OnDemand>  127422437 ns    127395884 ns            5         2.44382M           361.444M        5.01111M       7.20678M     469.54M              10.2077           7.85768        3.6895G          1.22397G                    26.6088                     2.60675           7.85768M    2.44633M   45.9988M       344.343M/s   5.07784M   7.20729M   469.945M         10.2165    7.84955/s 3.68885G/s     1.22397G               26.6088                2.60451      1000k       7.84955M/s [best: throughput=  0.36 GB/s doc_throughput=     7 docs/s instructions=  1223973679 cycles=   469540474 branch_miss= 2443819 cache_miss= 5011108 cache_ref=   7206777 items=   1000000 avg_time= 127408955 ns]
Creating a source file spanning 134087 KB 
Kostya<Dom>                84317081 ns     84298899 ns            8         482.627k           1.63113G        15.4653M       22.1903M    310.517M              2.26151           11.8796       3.68882G          944.977M                    6.88232                     3.04324           6.22833M     482.96k   137.305M       1.51693G/s   15.5131M   22.1505M   310.839M         2.26385    11.8626/s 3.68734G/s     944.977M               6.88232                3.04009   524.288k       6.21939M/s [best: throughput=  1.63 GB/s doc_throughput=    11 docs/s instructions=   944977188 cycles=   310517158 branch_miss=  482627 cache_miss=15465343 cache_ref=  22190348 items=    524288 avg_time=  84302643 ns]
KostyaSum<Dom>             83927568 ns     83926749 ns            8         481.296k           1.63817G        15.1802M       21.6444M     309.14M              2.25149           11.9308       3.68831G          947.599M                    6.90141                     3.06527            6.2552M    481.646k   137.305M       1.52365G/s   15.2279M   21.6579M   309.465M         2.25385    11.9152/s 3.68732G/s     947.599M               6.90141                3.06206   524.288k       6.24697M/s [best: throughput=  1.64 GB/s doc_throughput=    11 docs/s instructions=   947598642 cycles=   309140487 branch_miss=  481296 cache_miss=15180200 cache_ref=  21644420 items=    524288 avg_time=  83912913 ns]
Kostya<OnDemand>          297129310 ns    297120816 ns            2         3.31874M           462.364M        10.3067M       14.2664M    1095.52M               7.9787           3.36742       3.68907G          2.86185G                     20.843                     2.61233            1.7655M      3.315M   137.305M        440.71M/s   10.2961M   14.2037M      1096M         7.98225    3.36563/s 3.68875G/s     2.86185G                20.843                2.61117   524.288k       1.76456M/s [best: throughput=  0.46 GB/s doc_throughput=     3 docs/s instructions=  2861852788 cycles=  1095515585 branch_miss= 3318738 cache_miss=10306750 cache_ref=  14266401 items=    524288 avg_time= 297110242 ns]
KostyaSum<OnDemand>       297765510 ns    297755309 ns            2         3.33102M           461.404M        9.87841M       13.8172M    1097.74M              7.99487           3.36043       3.68886G          2.85923G                    20.8239                     2.60466           1.76183M    3.34588M   137.305M       439.771M/s   9.93315M   13.8171M   1098.42M         7.99988    3.35846/s 3.68901G/s     2.85923G               20.8239                2.60303   524.288k        1.7608M/s [best: throughput=  0.46 GB/s doc_throughput=     3 docs/s instructions=  2859231357 cycles=  1097735433 branch_miss= 3331021 cache_miss= 9878414 cache_ref=  13817155 items=    524288 avg_time= 297747170 ns]
DistinctUserID<Dom>          269724 ns       269669 ns         2594           4.104k           2.43081G               0        94.168k    959.193k              1.51888          3.84917k        3.6921G          2.91303M                    4.61276                     3.03696           442.655k    4.30204k   631.515k       2.18099G/s    0.74441   94.2348k   964.775k         1.52772   3.70825k/s 3.57763G/s     2.91303M               4.61276                3.01939        115       426.449k/s [best: throughput=  2.43 GB/s doc_throughput=  3849 docs/s instructions=     2913030 cycles=      959193 branch_miss=    4104 cache_miss=       0 cache_ref=     94168 items=       115 avg_time=    261524 ns]
On Demand implementation: fallback
DistinctUserID<OnDemand>    1112776 ns      1112752 ns          629          32.373k           575.882M               0        57.796k    4.04821M              6.41031           911.905       3.69158G          10.3373M                    16.3691                     2.55356           104.869k    33.0517k   631.515k       541.234M/s   0.352941   57.7624k   4.07572M         6.45387    898.673/s 3.66274G/s     10.3373M               16.3691                2.53632        115       103.347k/s [best: throughput=  0.58 GB/s doc_throughput=   911 docs/s instructions=    10337340 cycles=     4048205 branch_miss=   32373 cache_miss=       0 cache_ref=     57796 items=       115 avg_time=   1104696 ns]
FindTweet<Dom>               255184 ns       255135 ns         2738           3.735k           2.57342G               0        83.766k     906.03k              1.43469            4.075k       3.69207G          2.82292M                    4.47008                      3.1157             4.075k    3.89026k   631.515k       2.30522G/s   0.327246   83.7454k    911.46k         1.44329   3.91949k/s 3.57246G/s     2.82292M               4.47008                3.09714          1       3.91949k/s [best: throughput=  2.57 GB/s doc_throughput=  4074 docs/s instructions=     2822922 cycles=      906030 branch_miss=    3735 cache_miss=       0 cache_ref=     83766 items=         1 avg_time=    247046 ns]
On Demand implementation: fallback
FindTweet<OnDemand>         1052434 ns      1052427 ns          665          31.353k           609.358M               0        30.423k    3.81916M              6.04762           964.914       3.68517G          9.73182M                    15.4103                     2.54815            964.914    32.2736k   631.515k       572.258M/s   0.115789   30.4981k   3.85329M         6.10165    950.185/s 3.66133G/s     9.73182M               15.4103                2.52559          1        950.185/s [best: throughput=  0.61 GB/s doc_throughput=   964 docs/s instructions=     9731824 cycles=     3819165 branch_miss=   31353 cache_miss=       0 cache_ref=     30423 items=         1 avg_time=   1044366 ns]
